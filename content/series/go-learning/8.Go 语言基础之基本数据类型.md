---
title: "Go 语言基础之基本数据类型"
description: "详细了解 Go 的基本数据类型，包括整型、浮点型、布尔型、字符串等，对比 JavaScript 的类型系统。"
date: "2025-11-25"
seriesOrder: 8
---

# 8. Go 语言基础之基本数据类型

## 引言

在 JavaScript 中，我们通常只需要处理 `Number`（双精度浮点数）、`String`、`Boolean` 和 `BigInt`。这种设计简化了开发，但也牺牲了对内存的精确控制。

Go 语言作为一门系统级编程语言，提供了非常丰富的数据类型，允许开发者根据实际需求选择最合适的类型，从而优化内存占用和性能。

本篇文章将带你详细了解 Go 的基本数据类型，并重点讲解它与 JavaScript 的不同之处。

## 1. 布尔型 (Boolean)

Go 语言的布尔类型为 `bool`，值只有 `true` 和 `false`。

### 与 JS 的区别：拒绝隐式转换

在 JavaScript 中，我们习惯了"真值"（Truthy）和"假值"（Falsy）的概念：
```javascript
// JavaScript
if (1) { ... } // 1 被转换为 true
if ("") { ... } // "" 被转换为 false
```

在 Go 中，**布尔值就是布尔值，数字就是数字**。它们之间不能进行隐式转换，也不能混用。

```go
// Go
var b bool = true
// if (1) { ... } // 编译错误！non-bool 1 (type int) used as if condition
if b {
    // 正确
}
```

## 2. 数字类型 (Numeric Types)

Go 提供了多种数字类型，这可能会让习惯了 JS `Number` 的前端开发者感到眼花缭乱。

### 2.1 整型 (Integers)

Go 的整型分为**有符号**和**无符号**两类，并根据**位数**细分：

| 类型 | 描述 | 范围 |
| :--- | :--- | :--- |
| `int8` | 8位有符号整数 | -128 到 127 |
| `int16` | 16位有符号整数 | -32768 到 32767 |
| `int32` | 32位有符号整数 | -21亿 到 21亿 |
| `int64` | 64位有符号整数 | 很大 |
| `uint8` | 8位无符号整数 | 0 到 255 (常用于表示字节) |
| `uint16` | 16位无符号整数 | 0 到 65535 |
| ... | ... | ... |

**特殊类型**:
-   **`int`**: 最常用的类型。在 32 位系统上是 32 位，在 64 位系统上是 64 位。**除非你有明确的内存优化需求，否则默认使用 `int` 即可。**
-   **`uint`**: 类似于 `int`，但是无符号的。

### 2.2 浮点型 (Floating Point)

-   `float32`: 单精度浮点数。
-   `float64`: 双精度浮点数（**等同于 JavaScript 的 `Number`**）。

> **建议**: 默认使用 `float64`，因为现代 CPU 处理 `float64` 的速度非常快，且精度更高。

## 3. 字符串 (String)

Go 语言中的字符串是**原生支持 UTF-8 编码**的。这意味着你可以在 Go 代码中直接使用中文、Emoji 等字符，而不会出现乱码。

### 3.1 定义方式

-   **双引号**: `"Hello"`。支持转义字符（如 `\n`）。
-   **反引号**: `` `Hello` ``。**原生字符串（Raw String）**，支持多行，不支持转义。非常适合写 SQL 语句、HTML 模板或 JSON 字符串。

```go
// 多行字符串，类似于 JS 的模板字符串（但不能插值）
sql := `
    SELECT *
    FROM users
    WHERE age > 18
`
```

### 3.2 字符串是不可变的

与 JavaScript 一样，Go 的字符串也是不可变的。你不能修改字符串中的某个字符。

```go
s := "hello"
// s[0] = 'H' // 编译错误！
```

### 3.3 长度的陷阱

这是前端开发者最容易踩的坑。

-   **JavaScript**: `"你好".length` 返回 `2`。
-   **Go**: `len("你好")` 返回 `6`。

为什么？因为 `len()` 函数返回的是字符串占用的**字节数 (Bytes)**。在 UTF-8 编码中，一个汉字通常占用 3 个字节。

如果你想获取字符数量，需要先将其转换为 `rune` 切片（见下文）。

## 4. 字符：byte 与 rune

Go 语言中没有 `char` 类型，它用两个别名来表示字符：

1.  **`byte`** (即 `uint8`): 代表一个 ASCII 字符（0-255）。
2.  **`rune`** (即 `int32`): 代表一个 Unicode 码点（Code Point）。

**单引号 vs 双引号**:
-   **双引号** `""` 用于字符串 (`string`)。
-   **单引号** `''` 用于字符 (`rune` 或 `byte`)。

```go
var c1 byte = 'a'
var c2 rune = '中'
fmt.Println(c1, c2) // 输出: 97 20013 (打印出的是数字编码)
```

**正确计算中文字符串长度**:

```go
s := "你好Go"
fmt.Println(len(s)) // 输出 8 (3+3+1+1)
fmt.Println(utf8.RuneCountInString(s)) // 输出 4
```

## 5. 类型转换 (Type Conversion)

Go 语言**不支持隐式类型转换**。所有的转换都必须显式进行。

```go
var a int = 10
var b float64 = 3.14

// var c = a + b // 编译错误！int 和 float64 不能直接相加
var c = float64(a) + b // 正确：先将 a 转为 float64
```

### 5.1 数字与字符串转换

数字和字符串之间的转换需要使用标准库 `strconv`。

```go
import "strconv"

// 字符串转整数
i, err := strconv.Atoi("123")

// 整数转字符串
s := strconv.Itoa(123)
```

## 6. 总结

Go 的数据类型设计体现了其系统级语言的特性：精确、严谨。

1.  **布尔值**不参与隐式转换。
2.  **整型**区分位数，默认用 `int`。
3.  **字符串**原生支持 UTF-8，但 `len()` 返回字节数。
4.  **字符**分为 `byte` (ASCII) 和 `rune` (Unicode)。
5.  **类型转换**必须显式进行。

掌握了这些基础类型，我们就可以开始进行各种运算了。下一篇文章，我们将介绍 Go 语言的运算符。

---

**上一篇**：[7.Go 语言基础之变量和常量](./7.Go%20语言基础之变量和常量.md)
**下一篇预告**：[9.Go 语言基础之运算符](./9.Go%20语言基础之运算符.md)
